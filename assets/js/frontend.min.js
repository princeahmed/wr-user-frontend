/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/js/components/account.js":
/*!**************************************!*\
  !*** ./src/js/components/account.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

(function ($) {
  $(document).ready(function () {
    initActiveTab();
    $(document).on('click', '.change-password-button', togglePassFields);
    $(document).on('click', '.to-dashboard, .to-favourites, .to-edit-account', setActiveTab);
    $(document).on('click', '#load_more_favourites', loadMoreFavorites);

    function togglePassFields() {
      $('.change-password-fields').toggle();
    }

    function setActiveTab(e) {
      e.preventDefault();
      var selectors = $(this);
      var target = $(this).attr('data-target');
      selectors = selectors.add(target);
      $('.wp-radio-my-account-content>div, .wp-radio-my-account-navigation>ul>li').removeClass('active');
      selectors.addClass('active');
      localStorage.setItem('wp_radio_myaccount_active_tab', target);
    }

    function initActiveTab() {
      var target = localStorage.getItem('wp_radio_myaccount_active_tab');

      if (target) {
        $(target).addClass('active');
        $("li[data-target=\"".concat(target, "\"]")).addClass('active');
      } else {
        $('.content-dashboard').addClass('active');
        $("li[data-target=\".content-dashbord\"]").addClass('active');
      }
    }

    function loadMoreFavorites(e) {
      var _this = this;

      e.preventDefault();
      $('img', $(this)).show();
      var $this = $(this);
      var offset = $(this).attr('data-offset');
      $.ajax({
        url: wpradio.ajaxUrl,
        data: {
          action: 'load_more_favourites',
          offset: offset
        },
        success: function success(_ref) {
          var data = _ref.data;

          if (data && data.html) {
            $('.wp-radio-favourites').append(data.html);
            $this.attr('data-offset', offset + 15);
          } else {
            $this.text('No More Favorites!');
          }
        },
        error: function error(_error) {
          $this.text('No More Favorites!');
          console.log(_error);
        },
        complete: function complete() {
          $('img', $(_this)).hide();
        }
      });
    }
  });
})(jQuery);

/***/ }),

/***/ "./src/js/components/helper.js":
/*!*************************************!*\
  !*** ./src/js/components/helper.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

(function ($) {
  $(document).ready(function () {
    $('.wp-radio-select2').select2();
  });
})(jQuery);

/***/ }),

/***/ "./src/js/components/player.js":
/*!*************************************!*\
  !*** ./src/js/components/player.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

(function ($) {
  $(document).ready(function () {
    checkAllFavorites();
    $(document).on('click', '.add-favourite', addFavorite);
    $(window).on('setPlayerData', checkAllFavorites);
    /**
     * Add selected station to favourites list
     */

    function addFavorite() {
      if ($(this).hasClass('disabled')) {
        alert(WRUF.i18n.loginAlert);
        return;
      }

      var $this = $(this);
      var type = $this.hasClass('added') ? 'remove' : 'add';
      var parent = null;

      if ($this.parents('.wp-radio-player').length) {
        parent = $this.parents('.wp-radio-player');
      } else if ($this.parents('.wp-radio-single').length) {
        parent = $this.parents('.wp-radio-single');
      } else if ($this.parents('.wp-radio-listing').length) {
        parent = $this.parents('.wp-radio-listing');
      }

      if (!parent) {
        return;
      }

      var stream = $('.wp-radio-player-play-pause', parent).attr('data-stream');
      var streamId = JSON.parse(stream).streamId;
      $.ajax({
        url: wpradio.ajaxUrl,
        data: {
          action: 'add_favourites',
          type: type,
          id: streamId
        },
        success: function success(_ref) {
          var data = _ref.data;

          if (data.success) {
            localStorage.setItem('favorite_stations', JSON.stringify(data.favorites));
            checkAllFavorites();
          }
        },
        error: function error(_error) {
          return console.log(_error);
        }
      });
    }

    function checkAllFavorites() {
      var favorites = localStorage.getItem('favorite_stations');
      if (!favorites) return;
      favorites = JSON.parse(favorites);
      if (!Array.isArray(favorites)) return;
      var favourite = $('.add-favourite');

      if (favourite.length) {
        favourite.each(function () {
          var $this = $(this);
          var parent = null;

          if ($this.parents('.wp-radio-player').length) {
            parent = $this.parents('.wp-radio-player');
          } else if ($this.parents('.wp-radio-single').length) {
            parent = $this.parents('.wp-radio-single');
          } else if ($this.parents('.wp-radio-listing').length) {
            parent = $this.parents('.wp-radio-listing');
          }

          if (!parent) {
            return;
          }

          var stream = $('.wp-radio-player-play-pause', parent).attr('data-stream');
          if (!stream) return;
          stream = JSON.parse(stream);
          var id = parseInt(stream.streamId);
          var is_added = favorites.includes(id);
          checkFavorite(id, is_added);
        });
      }
    }
    /**
     * Check if the selected station is in favourite list or not
     */


    function checkFavorite(id, is_added) {
      //player
      var player = $('#wp-radio-player');

      if (player.length) {
        var stream = $('.wp-radio-player-play-pause', player).attr('data-stream');

        if (stream) {
          stream = JSON.parse(stream);

          if (String(id) === String(stream.streamId)) {
            if (is_added) {
              $('.add-favourite', player).addClass('added');
            } else {
              $('.add-favourite', player).removeClass('added');
            }
          }
        }
      } //shortcode


      var shortcode_player = $("#wp-radio-shortcode-player-".concat(id));

      if (shortcode_player.length) {
        if (is_added) {
          $('.add-favourite', shortcode_player).addClass('added');
        } else {
          $('.add-favourite', shortcode_player).removeClass('added');
        }
      } //single


      var single_player = $("#single-radio-".concat(id));

      if (single_player.length) {
        if (is_added) {
          $('.wp-radio-header .add-favourite', single_player).addClass('added');
        } else {
          $('.wp-radio-header .add-favourite', single_player).removeClass('added');
        }
      } //listing


      var listing_player = $(".wp-radio-listing-".concat(id));

      if (listing_player.length) {
        if (is_added) {
          $('.add-favourite', listing_player).addClass('added');
        } else {
          $('.add-favourite', listing_player).removeClass('added');
        }
      }
    }
  });
})(jQuery);

/***/ }),

/***/ "./src/js/components/report.js":
/*!*************************************!*\
  !*** ./src/js/components/report.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

(function ($) {
  $(document).ready(function () {
    var selector = $('.report-form-wrapper');

    if (!selector.length) {
      return;
    }

    var closeForm = function closeForm() {
      return selector.removeClass('active');
    };

    $(document).on('click', '.open-popup', setData);
    $(document).on('click', '.report-form', function (e) {
      return e.stopPropagation();
    });
    $(document).on('click', '.report-close', closeForm);
    $(document).on('click', '.report-form-wrapper', closeForm);
    $(document).on('click', '.report-submit', ajaxSend);

    function setData() {
      selector.addClass('active');
      var player = $(this).parents('.wp-radio-player');
      var stream = $('.wp-radio-player-play-pause', player).attr('data-stream');

      if (stream) {
        stream = JSON.parse(stream);
      }

      var title = typeof $(this).attr('data-name') !== 'undefined' ? $(this).attr('data-name') : stream.title,
          id = typeof $(this).attr('data-id') !== 'undefined' ? $(this).attr('data-id') : stream.streamId;
      $('#report-radio').text(title);
      $('#report-radio-id').val(id);
    }

    function ajaxSend(e) {
      var _this = this;

      e.preventDefault();

      if ($('#report-email').val() === '' || $('#report-message').val() === '') {
        $('#report-validation').fadeIn();
        return;
      }

      $(this).text(wpradio.i18n.sending);
      var data = $('.report-form').serialize();
      $.ajax({
        url: wpradio.ajaxUrl,
        data: {
          action: 'send_report',
          data: data,
          nonce: wpradio.nonce
        },
        success: function success() {
          $('.report-form').addClass('submitted');
          setTimeout(function () {
            selector.removeClass('active');
            $('.report-form').removeClass('submitted');
            $(_this).text(wpradio.i18n.sendMessage);
          }, 3000);
        },
        error: function error(_error) {
          return console.log(_error);
        }
      });
    }
  });
})(jQuery);

/***/ }),

/***/ "./src/js/components/review.js":
/*!*************************************!*\
  !*** ./src/js/components/review.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

(function ($) {
  $(document).ready(function () {
    $(document).on('click', '.set-review-stars>.star', setReview);
    $(document).on('click', '#review_submit', submitReview);
    $(document).on('click', '.load-more-review', loadMoreReviews);

    function setReview() {
      var selectors = $(this);
      selectors = selectors.add(selectors.prevAll());
      var de_selectors = $(this).nextAll();
      selectors.addClass('dashicons-star-filled').removeClass('dashicons-star-empty');
      de_selectors.addClass('dashicons-star-empty').removeClass('dashicons-star-filled');
      $(this).parent().next().val($(this).attr('data-rate'));
    }

    function submitReview(e) {
      e.preventDefault();

      if ($(this).hasClass('disabled')) {
        alert('Please, Login to submit a review for this radio station.');
        return;
      }

      if ($('#rating').val() === '' || $('#review').val() === '') {
        $('.review-form-notices').addClass('error show').text('Please fill all the fields.');
        return;
      }

      var formData = $('#review-form').serialize();
      $.ajax({
        url: wpradio.ajaxUrl,
        data: {
          action: 'submit_review',
          formData: formData,
          nonce: wpradio.nonce
        },
        success: function success(_ref) {
          var data = _ref.data;

          if (data.update || $('.review-listing>.current-user-review').length) {
            $('.review-listing>.current-user-review').replaceWith(data.html);
          } else {
            var title = $('.review-listing>h3');

            if (title.length) {
              title.after(data.html);
            } else {
              $('.review-listing').append(data.html);
            }
          }

          $('.review-form-notices').addClass('success show').text('Your review have been submitted.');
        },
        error: function error(_error) {
          return console.log(_error);
        }
      });
    }

    function loadMoreReviews(e) {
      e.preventDefault();
      var $this = $(this);
      var offset = $(this).attr('data-offset');
      $.ajax({
        url: wpradio.ajaxUrl,
        data: {
          action: 'load_more_reviews',
          offset: offset
        },
        success: function success(_ref2) {
          var data = _ref2.data;
          $('.review-listing').append(data.html);
          $this.attr('data-offset', offset + 10);
        },
        error: function error(_error2) {
          $this.text('No More Reviews!');
          console.log(_error2);
        }
      });
    }
  });
})(jQuery);

/***/ }),

/***/ "./src/js/frontend.js":
/*!****************************!*\
  !*** ./src/js/frontend.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _js_components_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/components/helper */ "./src/js/components/helper.js");
/* harmony import */ var _js_components_helper__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_js_components_helper__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _js_components_player__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../js/components/player */ "./src/js/components/player.js");
/* harmony import */ var _js_components_player__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_js_components_player__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _js_components_review__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../js/components/review */ "./src/js/components/review.js");
/* harmony import */ var _js_components_review__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_js_components_review__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _js_components_account__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../js/components/account */ "./src/js/components/account.js");
/* harmony import */ var _js_components_account__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_js_components_account__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _js_components_report__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../js/components/report */ "./src/js/components/report.js");
/* harmony import */ var _js_components_report__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_js_components_report__WEBPACK_IMPORTED_MODULE_4__);






/***/ }),

/***/ 0:
/*!**********************************!*\
  !*** multi ./src/js/frontend.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\xampp\htdocs\wpmilitary\wp-content\plugins\wr-user-frontend\src\js\frontend.js */"./src/js/frontend.js");


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvYWNjb3VudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY29tcG9uZW50cy9oZWxwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvcGxheWVyLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jb21wb25lbnRzL3JlcG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY29tcG9uZW50cy9yZXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2Zyb250ZW5kLmpzIl0sIm5hbWVzIjpbIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiaW5pdEFjdGl2ZVRhYiIsIm9uIiwidG9nZ2xlUGFzc0ZpZWxkcyIsInNldEFjdGl2ZVRhYiIsImxvYWRNb3JlRmF2b3JpdGVzIiwidG9nZ2xlIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2VsZWN0b3JzIiwidGFyZ2V0IiwiYXR0ciIsImFkZCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsInNob3ciLCIkdGhpcyIsIm9mZnNldCIsImFqYXgiLCJ1cmwiLCJ3cHJhZGlvIiwiYWpheFVybCIsImRhdGEiLCJhY3Rpb24iLCJzdWNjZXNzIiwiaHRtbCIsImFwcGVuZCIsInRleHQiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJjb21wbGV0ZSIsImhpZGUiLCJqUXVlcnkiLCJzZWxlY3QyIiwiY2hlY2tBbGxGYXZvcml0ZXMiLCJhZGRGYXZvcml0ZSIsIndpbmRvdyIsImhhc0NsYXNzIiwiYWxlcnQiLCJXUlVGIiwiaTE4biIsImxvZ2luQWxlcnQiLCJ0eXBlIiwicGFyZW50IiwicGFyZW50cyIsImxlbmd0aCIsInN0cmVhbSIsInN0cmVhbUlkIiwiSlNPTiIsInBhcnNlIiwiaWQiLCJzdHJpbmdpZnkiLCJmYXZvcml0ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJmYXZvdXJpdGUiLCJlYWNoIiwicGFyc2VJbnQiLCJpc19hZGRlZCIsImluY2x1ZGVzIiwiY2hlY2tGYXZvcml0ZSIsInBsYXllciIsIlN0cmluZyIsInNob3J0Y29kZV9wbGF5ZXIiLCJzaW5nbGVfcGxheWVyIiwibGlzdGluZ19wbGF5ZXIiLCJzZWxlY3RvciIsImNsb3NlRm9ybSIsInNldERhdGEiLCJzdG9wUHJvcGFnYXRpb24iLCJhamF4U2VuZCIsInRpdGxlIiwidmFsIiwiZmFkZUluIiwic2VuZGluZyIsInNlcmlhbGl6ZSIsIm5vbmNlIiwic2V0VGltZW91dCIsInNlbmRNZXNzYWdlIiwic2V0UmV2aWV3Iiwic3VibWl0UmV2aWV3IiwibG9hZE1vcmVSZXZpZXdzIiwicHJldkFsbCIsImRlX3NlbGVjdG9ycyIsIm5leHRBbGwiLCJuZXh0IiwiZm9ybURhdGEiLCJ1cGRhdGUiLCJyZXBsYWNlV2l0aCIsImFmdGVyIl0sIm1hcHBpbmdzIjoiO1FBQUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7OztRQUdBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwwQ0FBMEMsZ0NBQWdDO1FBQzFFO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0Esd0RBQXdELGtCQUFrQjtRQUMxRTtRQUNBLGlEQUFpRCxjQUFjO1FBQy9EOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSx5Q0FBeUMsaUNBQWlDO1FBQzFFLGdIQUFnSCxtQkFBbUIsRUFBRTtRQUNySTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDJCQUEyQiwwQkFBMEIsRUFBRTtRQUN2RCxpQ0FBaUMsZUFBZTtRQUNoRDtRQUNBO1FBQ0E7O1FBRUE7UUFDQSxzREFBc0QsK0RBQStEOztRQUVySDtRQUNBOzs7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O0FBQ3hCQSxPQUFDLENBQUNDLGNBQUY7QUFDQSxVQUFNVyxLQUFLLEdBQUdyQixDQUFDLENBQUMsSUFBRCxDQUFmO0FBQ0EsVUFBTXNCLE1BQU0sR0FBR3RCLENBQUMsQ0FBQyxJQUFELENBQUQsQ0FBUWEsSUFBUixDQUFhLGFBQWIsQ0FBZjtBQUVBYixPQUFDLENBQUN1QixJQUFGLENBQU87QUFDSEMsV0FBRyxFQUFFQyxPQUFPLENBQUNDLE9BRFY7QUFHSEMsWUFBSSxFQUFFO0FBQ0ZDLGdCQUFNLEVBQUUsbUJBRE47QUFFRk4sZ0JBQU0sRUFBTkE7QUFGRSxTQUhIO0FBT0hPLGVBQU8sRUFBRSx3QkFBWTtBQUFBLGNBQVZGLElBQVUsU0FBVkEsSUFBVTtBQUNqQjNCLFdBQUMsQ0FBQyxpQkFBRCxDQUFELENBQXFCK0IsTUFBckIsQ0FBNEJKLElBQUksQ0FBQ0csSUFBakM7QUFDQVQsZUFBSyxDQUFDUixJQUFOLENBQVcsYUFBWCxFQUEwQlMsTUFBTSxHQUFHLEVBQW5DO0FBQ0gsU0FWRTtBQVdIVyxhQUFLLEVBQUUsZUFBQUEsT0FBSyxFQUFJO0FBQ1paLGVBQUssQ0FBQ1csSUFBTixDQUFXLGtCQUFYO0FBQ0FFLGlCQUFPLENBQUNDLEdBQVIsQ0FBWUYsT0FBWjtBQUNIO0FBZEUsT0FBUDtBQWdCSDtBQUVKLEdBaEZEO0FBaUZILENBbEZELEVBa0ZHSyxNQWxGSCxFOzs7Ozs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZnJvbnRlbmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCIoZnVuY3Rpb24gKCQpIHtcclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpbml0QWN0aXZlVGFiKCk7XHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5jaGFuZ2UtcGFzc3dvcmQtYnV0dG9uJywgdG9nZ2xlUGFzc0ZpZWxkcyk7XHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy50by1kYXNoYm9hcmQsIC50by1mYXZvdXJpdGVzLCAudG8tZWRpdC1hY2NvdW50Jywgc2V0QWN0aXZlVGFiKTtcclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2xvYWRfbW9yZV9mYXZvdXJpdGVzJywgbG9hZE1vcmVGYXZvcml0ZXMpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB0b2dnbGVQYXNzRmllbGRzKCkge1xyXG4gICAgICAgICAgICAkKCcuY2hhbmdlLXBhc3N3b3JkLWZpZWxkcycpLnRvZ2dsZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0QWN0aXZlVGFiKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNlbGVjdG9ycyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9ICQodGhpcykuYXR0cignZGF0YS10YXJnZXQnKTtcclxuICAgICAgICAgICAgc2VsZWN0b3JzID0gc2VsZWN0b3JzLmFkZCh0YXJnZXQpO1xyXG5cclxuICAgICAgICAgICAgJCgnLndwLXJhZGlvLW15LWFjY291bnQtY29udGVudD5kaXYsIC53cC1yYWRpby1teS1hY2NvdW50LW5hdmlnYXRpb24+dWw+bGknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgICAgICBzZWxlY3RvcnMuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3dwX3JhZGlvX215YWNjb3VudF9hY3RpdmVfdGFiJywgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRBY3RpdmVUYWIoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd3cF9yYWRpb19teWFjY291bnRfYWN0aXZlX3RhYicpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgJCh0YXJnZXQpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQoYGxpW2RhdGEtdGFyZ2V0PVwiJHt0YXJnZXR9XCJdYCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnLmNvbnRlbnQtZGFzaGJvYXJkJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgJChgbGlbZGF0YS10YXJnZXQ9XCIuY29udGVudC1kYXNoYm9yZFwiXWApLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbG9hZE1vcmVGYXZvcml0ZXMoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAkKCdpbWcnLCAkKHRoaXMpKS5zaG93KCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9ICQodGhpcykuYXR0cignZGF0YS1vZmZzZXQnKTtcclxuXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IHdwcmFkaW8uYWpheFVybCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdsb2FkX21vcmVfZmF2b3VyaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ICh7ZGF0YX0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmh0bWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLndwLXJhZGlvLWZhdm91cml0ZXMnKS5hcHBlbmQoZGF0YS5odG1sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuYXR0cignZGF0YS1vZmZzZXQnLCBvZmZzZXQgKyAxNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMudGV4dCgnTm8gTW9yZSBGYXZvcml0ZXMhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMudGV4dCgnTm8gTW9yZSBGYXZvcml0ZXMhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAkKCdpbWcnLCAkKHRoaXMpKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxufSkoalF1ZXJ5KTsiLCIoZnVuY3Rpb24gKCQpIHtcclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcud3AtcmFkaW8tc2VsZWN0MicpLnNlbGVjdDIoKTtcclxuICAgIH0pO1xyXG59KShqUXVlcnkpOyIsIihmdW5jdGlvbiAoJCkge1xyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBjaGVja0FsbEZhdm9yaXRlcygpO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmFkZC1mYXZvdXJpdGUnLCBhZGRGYXZvcml0ZSk7XHJcbiAgICAgICAgJCh3aW5kb3cpLm9uKCdzZXRQbGF5ZXJEYXRhJywgY2hlY2tBbGxGYXZvcml0ZXMpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBZGQgc2VsZWN0ZWQgc3RhdGlvbiB0byBmYXZvdXJpdGVzIGxpc3RcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBhZGRGYXZvcml0ZSgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdkaXNhYmxlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChXUlVGLmkxOG4ubG9naW5BbGVydCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgY29uc3QgdHlwZSA9ICR0aGlzLmhhc0NsYXNzKCdhZGRlZCcpID8gJ3JlbW92ZScgOiAnYWRkJztcclxuXHJcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoJHRoaXMucGFyZW50cygnLndwLXJhZGlvLXBsYXllcicpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gJHRoaXMucGFyZW50cygnLndwLXJhZGlvLXBsYXllcicpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHRoaXMucGFyZW50cygnLndwLXJhZGlvLXNpbmdsZScpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gJHRoaXMucGFyZW50cygnLndwLXJhZGlvLXNpbmdsZScpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCR0aGlzLnBhcmVudHMoJy53cC1yYWRpby1saXN0aW5nJykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSAkdGhpcy5wYXJlbnRzKCcud3AtcmFkaW8tbGlzdGluZycpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgc3RyZWFtID0gJCgnLndwLXJhZGlvLXBsYXllci1wbGF5LXBhdXNlJywgcGFyZW50KS5hdHRyKCdkYXRhLXN0cmVhbScpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3RyZWFtSWQgPSBKU09OLnBhcnNlKHN0cmVhbSkuc3RyZWFtSWQ7XHJcblxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiB3cHJhZGlvLmFqYXhVcmwsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnYWRkX2Zhdm91cml0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHN0cmVhbUlkLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ICh7ZGF0YX0pID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZmF2b3JpdGVfc3RhdGlvbnMnLCBKU09OLnN0cmluZ2lmeShkYXRhLmZhdm9yaXRlcykpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tBbGxGYXZvcml0ZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvciksXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrQWxsRmF2b3JpdGVzKCkge1xyXG5cclxuICAgICAgICAgICAgbGV0IGZhdm9yaXRlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmYXZvcml0ZV9zdGF0aW9ucycpO1xyXG4gICAgICAgICAgICBpZiAoIWZhdm9yaXRlcykgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgZmF2b3JpdGVzID0gSlNPTi5wYXJzZShmYXZvcml0ZXMpO1xyXG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmF2b3JpdGVzKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZmF2b3VyaXRlID0gJCgnLmFkZC1mYXZvdXJpdGUnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmYXZvdXJpdGUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBmYXZvdXJpdGUuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJHRoaXMgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHRoaXMucGFyZW50cygnLndwLXJhZGlvLXBsYXllcicpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSAkdGhpcy5wYXJlbnRzKCcud3AtcmFkaW8tcGxheWVyJylcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCR0aGlzLnBhcmVudHMoJy53cC1yYWRpby1zaW5nbGUnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gJHRoaXMucGFyZW50cygnLndwLXJhZGlvLXNpbmdsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHRoaXMucGFyZW50cygnLndwLXJhZGlvLWxpc3RpbmcnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gJHRoaXMucGFyZW50cygnLndwLXJhZGlvLWxpc3RpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdHJlYW0gPSAkKCcud3AtcmFkaW8tcGxheWVyLXBsYXktcGF1c2UnLCBwYXJlbnQpLmF0dHIoJ2RhdGEtc3RyZWFtJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RyZWFtKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtID0gSlNPTi5wYXJzZShzdHJlYW0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHBhcnNlSW50KHN0cmVhbS5zdHJlYW1JZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzX2FkZGVkID0gZmF2b3JpdGVzLmluY2x1ZGVzKGlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tGYXZvcml0ZShpZCwgaXNfYWRkZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDaGVjayBpZiB0aGUgc2VsZWN0ZWQgc3RhdGlvbiBpcyBpbiBmYXZvdXJpdGUgbGlzdCBvciBub3RcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBjaGVja0Zhdm9yaXRlKGlkLCBpc19hZGRlZCkge1xyXG5cclxuICAgICAgICAgICAgLy9wbGF5ZXJcclxuICAgICAgICAgICAgY29uc3QgcGxheWVyID0gJCgnI3dwLXJhZGlvLXBsYXllcicpO1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0cmVhbSA9ICQoJy53cC1yYWRpby1wbGF5ZXItcGxheS1wYXVzZScsIHBsYXllcikuYXR0cignZGF0YS1zdHJlYW0nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3RyZWFtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtID0gSlNPTi5wYXJzZShzdHJlYW0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoU3RyaW5nKGlkKSA9PT0gU3RyaW5nKHN0cmVhbS5zdHJlYW1JZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2FkZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWRkLWZhdm91cml0ZScsIHBsYXllcikuYWRkQ2xhc3MoJ2FkZGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWRkLWZhdm91cml0ZScsIHBsYXllcikucmVtb3ZlQ2xhc3MoJ2FkZGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vc2hvcnRjb2RlXHJcbiAgICAgICAgICAgIGNvbnN0IHNob3J0Y29kZV9wbGF5ZXIgPSAkKGAjd3AtcmFkaW8tc2hvcnRjb2RlLXBsYXllci0ke2lkfWApO1xyXG4gICAgICAgICAgICBpZiAoc2hvcnRjb2RlX3BsYXllci5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNfYWRkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuYWRkLWZhdm91cml0ZScsIHNob3J0Y29kZV9wbGF5ZXIpLmFkZENsYXNzKCdhZGRlZCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuYWRkLWZhdm91cml0ZScsIHNob3J0Y29kZV9wbGF5ZXIpLnJlbW92ZUNsYXNzKCdhZGRlZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL3NpbmdsZVxyXG4gICAgICAgICAgICBjb25zdCBzaW5nbGVfcGxheWVyID0gJChgI3NpbmdsZS1yYWRpby0ke2lkfWApO1xyXG4gICAgICAgICAgICBpZiAoc2luZ2xlX3BsYXllci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc19hZGRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy53cC1yYWRpby1oZWFkZXIgLmFkZC1mYXZvdXJpdGUnLCBzaW5nbGVfcGxheWVyKS5hZGRDbGFzcygnYWRkZWQnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLndwLXJhZGlvLWhlYWRlciAuYWRkLWZhdm91cml0ZScsIHNpbmdsZV9wbGF5ZXIpLnJlbW92ZUNsYXNzKCdhZGRlZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2xpc3RpbmdcclxuICAgICAgICAgICAgY29uc3QgbGlzdGluZ19wbGF5ZXIgPSAkKGAud3AtcmFkaW8tbGlzdGluZy0ke2lkfWApO1xyXG4gICAgICAgICAgICBpZiAobGlzdGluZ19wbGF5ZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNfYWRkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuYWRkLWZhdm91cml0ZScsIGxpc3RpbmdfcGxheWVyKS5hZGRDbGFzcygnYWRkZWQnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmFkZC1mYXZvdXJpdGUnLCBsaXN0aW5nX3BsYXllcikucmVtb3ZlQ2xhc3MoJ2FkZGVkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG59KShqUXVlcnkpOyIsIihmdW5jdGlvbiAoJCkge1xyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBjb25zdCBzZWxlY3RvciA9ICQoJy5yZXBvcnQtZm9ybS13cmFwcGVyJyk7XHJcblxyXG4gICAgICAgIGlmICghc2VsZWN0b3IubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNsb3NlRm9ybSA9ICgpID0+IHNlbGVjdG9yLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5vcGVuLXBvcHVwJywgc2V0RGF0YSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcucmVwb3J0LWZvcm0nLCAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcucmVwb3J0LWNsb3NlJywgY2xvc2VGb3JtKTtcclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnJlcG9ydC1mb3JtLXdyYXBwZXInLCBjbG9zZUZvcm0pO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnJlcG9ydC1zdWJtaXQnLCBhamF4U2VuZCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldERhdGEoKSB7XHJcblxyXG4gICAgICAgICAgICBzZWxlY3Rvci5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSAkKHRoaXMpLnBhcmVudHMoJy53cC1yYWRpby1wbGF5ZXInKTtcclxuICAgICAgICAgICAgbGV0IHN0cmVhbSA9ICQoJy53cC1yYWRpby1wbGF5ZXItcGxheS1wYXVzZScsIHBsYXllcikuYXR0cignZGF0YS1zdHJlYW0nKTtcclxuICAgICAgICAgICAgaWYgKHN0cmVhbSkge1xyXG4gICAgICAgICAgICAgICAgc3RyZWFtID0gSlNPTi5wYXJzZShzdHJlYW0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IHR5cGVvZiAkKHRoaXMpLmF0dHIoJ2RhdGEtbmFtZScpICE9PSAndW5kZWZpbmVkJyA/ICQodGhpcykuYXR0cignZGF0YS1uYW1lJykgOiBzdHJlYW0udGl0bGUsXHJcbiAgICAgICAgICAgICAgICBpZCA9IHR5cGVvZiAkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKSAhPT0gJ3VuZGVmaW5lZCcgPyAkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKSA6IHN0cmVhbS5zdHJlYW1JZDtcclxuXHJcbiAgICAgICAgICAgICQoJyNyZXBvcnQtcmFkaW8nKS50ZXh0KHRpdGxlKTtcclxuICAgICAgICAgICAgJCgnI3JlcG9ydC1yYWRpby1pZCcpLnZhbChpZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhamF4U2VuZChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCQoJyNyZXBvcnQtZW1haWwnKS52YWwoKSA9PT0gJycgfHwgJCgnI3JlcG9ydC1tZXNzYWdlJykudmFsKCkgPT09ICcnKXtcclxuICAgICAgICAgICAgICAgICQoJyNyZXBvcnQtdmFsaWRhdGlvbicpLmZhZGVJbigpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkKHRoaXMpLnRleHQod3ByYWRpby5pMThuLnNlbmRpbmcpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9ICQoJy5yZXBvcnQtZm9ybScpLnNlcmlhbGl6ZSgpO1xyXG5cclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogd3ByYWRpby5hamF4VXJsLFxyXG5cclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdzZW5kX3JlcG9ydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICBub25jZTogd3ByYWRpby5ub25jZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnJlcG9ydC1mb3JtJykuYWRkQ2xhc3MoJ3N1Ym1pdHRlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rvci5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5yZXBvcnQtZm9ybScpLnJlbW92ZUNsYXNzKCdzdWJtaXR0ZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS50ZXh0KHdwcmFkaW8uaTE4bi5zZW5kTWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfSlcclxufSkoalF1ZXJ5KTsiLCIoZnVuY3Rpb24gKCQpIHtcclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnNldC1yZXZpZXctc3RhcnM+LnN0YXInLCBzZXRSZXZpZXcpO1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjcmV2aWV3X3N1Ym1pdCcsIHN1Ym1pdFJldmlldyk7XHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5sb2FkLW1vcmUtcmV2aWV3JywgbG9hZE1vcmVSZXZpZXdzKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0UmV2aWV3KCkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0b3JzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgc2VsZWN0b3JzID0gc2VsZWN0b3JzLmFkZChzZWxlY3RvcnMucHJldkFsbCgpKTtcclxuICAgICAgICAgICAgY29uc3QgZGVfc2VsZWN0b3JzID0gJCh0aGlzKS5uZXh0QWxsKCk7XHJcblxyXG4gICAgICAgICAgICBzZWxlY3RvcnMuYWRkQ2xhc3MoJ2Rhc2hpY29ucy1zdGFyLWZpbGxlZCcpLnJlbW92ZUNsYXNzKCdkYXNoaWNvbnMtc3Rhci1lbXB0eScpO1xyXG4gICAgICAgICAgICBkZV9zZWxlY3RvcnMuYWRkQ2xhc3MoJ2Rhc2hpY29ucy1zdGFyLWVtcHR5JykucmVtb3ZlQ2xhc3MoJ2Rhc2hpY29ucy1zdGFyLWZpbGxlZCcpO1xyXG5cclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5uZXh0KCkudmFsKCQodGhpcykuYXR0cignZGF0YS1yYXRlJykpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN1Ym1pdFJldmlldyhlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdkaXNhYmxlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgnUGxlYXNlLCBMb2dpbiB0byBzdWJtaXQgYSByZXZpZXcgZm9yIHRoaXMgcmFkaW8gc3RhdGlvbi4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCQoJyNyYXRpbmcnKS52YWwoKSA9PT0gJycgfHwgJCgnI3JldmlldycpLnZhbCgpID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgJCgnLnJldmlldy1mb3JtLW5vdGljZXMnKS5hZGRDbGFzcygnZXJyb3Igc2hvdycpLnRleHQoJ1BsZWFzZSBmaWxsIGFsbCB0aGUgZmllbGRzLicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9ICQoJyNyZXZpZXctZm9ybScpLnNlcmlhbGl6ZSgpO1xyXG5cclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogd3ByYWRpby5hamF4VXJsLFxyXG5cclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdzdWJtaXRfcmV2aWV3JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICBub25jZTogd3ByYWRpby5ub25jZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ICh7ZGF0YX0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS51cGRhdGUgfHwgJCgnLnJldmlldy1saXN0aW5nPi5jdXJyZW50LXVzZXItcmV2aWV3JykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5yZXZpZXctbGlzdGluZz4uY3VycmVudC11c2VyLXJldmlldycpLnJlcGxhY2VXaXRoKGRhdGEuaHRtbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSAkKCcucmV2aWV3LWxpc3Rpbmc+aDMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpdGxlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUuYWZ0ZXIoZGF0YS5odG1sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5yZXZpZXctbGlzdGluZycpLmFwcGVuZChkYXRhLmh0bWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICQoJy5yZXZpZXctZm9ybS1ub3RpY2VzJykuYWRkQ2xhc3MoJ3N1Y2Nlc3Mgc2hvdycpLnRleHQoJ1lvdXIgcmV2aWV3IGhhdmUgYmVlbiBzdWJtaXR0ZWQuJyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGxvYWRNb3JlUmV2aWV3cyhlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY29uc3QgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtb2Zmc2V0Jyk7XHJcblxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiB3cHJhZGlvLmFqYXhVcmwsXHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2xvYWRfbW9yZV9yZXZpZXdzJyxcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogKHtkYXRhfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5yZXZpZXctbGlzdGluZycpLmFwcGVuZChkYXRhLmh0bWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmF0dHIoJ2RhdGEtb2Zmc2V0Jywgb2Zmc2V0ICsgMTApO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMudGV4dCgnTm8gTW9yZSBSZXZpZXdzIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG59KShqUXVlcnkpOyIsImltcG9ydCAnLi4vanMvY29tcG9uZW50cy9oZWxwZXInO1xyXG5pbXBvcnQgJy4uL2pzL2NvbXBvbmVudHMvcGxheWVyJztcclxuaW1wb3J0ICcuLi9qcy9jb21wb25lbnRzL3Jldmlldyc7XHJcbmltcG9ydCAnLi4vanMvY29tcG9uZW50cy9hY2NvdW50JztcclxuaW1wb3J0ICcuLi9qcy9jb21wb25lbnRzL3JlcG9ydCc7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=